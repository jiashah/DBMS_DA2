<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Database Management System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 2px solid #dee2e6;
            overflow-x: auto;
        }

        .tab {
            padding: 15px 25px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            transition: all 0.3s;
            white-space: nowrap;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active {
            background: white;
            border-bottom: 3px solid #667eea;
            color: #667eea;
            font-weight: bold;
        }

        .content {
            padding: 30px;
        }

        .section {
            display: none;
        }

        .section.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s;
            margin-right: 10px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .btn-danger {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .columns-builder {
            border: 2px solid #dee2e6;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .column-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .checkbox-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .checkbox-group label {
            display: flex;
            align-items: center;
            gap: 5px;
            font-weight: normal;
        }

        .message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }

        .message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .message.show {
            display: block;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        tr:hover {
            background: #f8f9fa;
        }

        .data-input {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üóÑÔ∏è Database Management System</h1>
            <p>Complete CRUD Operations & Table Management</p>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('create-table')">Create Table</button>
            <button class="tab" onclick="showTab('alter-table')">Alter Table</button>
            <button class="tab" onclick="showTab('drop-table')">Drop Table</button>
            <button class="tab" onclick="showTab('insert-data')">Insert Data</button>
            <button class="tab" onclick="showTab('update-data')">Update Data</button>
            <button class="tab" onclick="showTab('delete-data')">Delete Data</button>
            <button class="tab" onclick="showTab('view-data')">View Data</button>
            <button class="tab" onclick="showTab('constraints')">Constraints</button>
        </div>

        <div class="content">
            <div id="message" class="message"></div>

            <!-- Create Table Section -->
            <div id="create-table" class="section active">
                <h2>Create New Table</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="createTableName" placeholder="Enter table name">
                </div>
                
                <div class="columns-builder">
                    <h3>Define Columns</h3>
                    <div id="columnsContainer"></div>
                    <button onclick="addColumn()">+ Add Column</button>
                </div>
                
                <button onclick="createTable()">Create Table</button>
            </div>

            <!-- Alter Table Section -->
            <div id="alter-table" class="section">
                <h2>Alter Table</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="alterTableName" placeholder="Enter table name">
                </div>
                
                <h3>Add Column</h3>
                <div class="form-group">
                    <label>Column Name:</label>
                    <input type="text" id="addColumnName">
                </div>
                <div class="form-group">
                    <label>Data Type:</label>
                    <select id="addColumnType">
                        <option value="INT">INT</option>
                        <option value="VARCHAR">VARCHAR</option>
                        <option value="TEXT">TEXT</option>
                        <option value="DATE">DATE</option>
                        <option value="DATETIME">DATETIME</option>
                        <option value="DECIMAL">DECIMAL</option>
                        <option value="BOOLEAN">BOOLEAN</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Length (optional):</label>
                    <input type="text" id="addColumnLength" placeholder="e.g., 255">
                </div>
                <button onclick="addColumnToTable()">Add Column</button>

                <hr style="margin: 30px 0;">

                <h3>Drop Column</h3>
                <div class="form-group">
                    <label>Column Name:</label>
                    <input type="text" id="dropColumnName">
                </div>
                <button class="btn-danger" onclick="dropColumn()">Drop Column</button>

                <hr style="margin: 30px 0;">

                <h3>Modify Column</h3>
                <div class="form-group">
                    <label>Column Name:</label>
                    <input type="text" id="modifyColumnName">
                </div>
                <div class="form-group">
                    <label>New Data Type:</label>
                    <select id="modifyColumnType">
                        <option value="INT">INT</option>
                        <option value="VARCHAR">VARCHAR</option>
                        <option value="TEXT">TEXT</option>
                        <option value="DATE">DATE</option>
                        <option value="DATETIME">DATETIME</option>
                        <option value="DECIMAL">DECIMAL</option>
                        <option value="BOOLEAN">BOOLEAN</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Length (optional):</label>
                    <input type="text" id="modifyColumnLength">
                </div>
                <button onclick="modifyColumn()">Modify Column</button>
            </div>

            <!-- Drop Table Section -->
            <div id="drop-table" class="section">
                <h2>Drop Table</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="dropTableName" placeholder="Enter table name to drop">
                </div>
                <button class="btn-danger" onclick="dropTable()">Drop Table</button>
            </div>

            <!-- Insert Data Section -->
            <div id="insert-data" class="section">
                <h2>Insert Data</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="insertTableName">
                </div>
                <div class="form-group">
                    <label>Data (JSON format):</label>
                    <textarea id="insertData" rows="6" placeholder='{"column1": "value1", "column2": "value2"}'></textarea>
                    <small>Example: {"name": "John", "age": 30, "email": "john@example.com"}</small>
                </div>
                <button onclick="insertData()">Insert Data</button>
            </div>

            <!-- Update Data Section -->
            <div id="update-data" class="section">
                <h2>Update Data</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="updateTableName">
                </div>
                <div class="form-group">
                    <label>Data to Update (JSON):</label>
                    <textarea id="updateData" rows="4" placeholder='{"column1": "newValue"}'></textarea>
                </div>
                <div class="form-group">
                    <label>WHERE Condition (JSON):</label>
                    <textarea id="updateWhere" rows="4" placeholder='{"id": 1}'></textarea>
                </div>
                <button onclick="updateData()">Update Data</button>
            </div>

            <!-- Delete Data Section -->
            <div id="delete-data" class="section">
                <h2>Delete Data</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="deleteTableName">
                </div>
                <div class="form-group">
                    <label>WHERE Condition (JSON):</label>
                    <textarea id="deleteWhere" rows="4" placeholder='{"id": 1}'></textarea>
                </div>
                <button class="btn-danger" onclick="deleteData()">Delete Data</button>
            </div>

            <!-- View Data Section -->
            <div id="view-data" class="section">
                <h2>View Data</h2>
                <div class="form-group">
                    <label>Table Name:</label>
                    <input type="text" id="viewTableName">
                </div>
                <button class="btn-success" onclick="viewData()">View Data</button>
                <div id="dataDisplay"></div>
            </div>

            <!-- Constraints Section -->
            <div id="constraints" class="section">
                <h2>Manage Constraints</h2>
                
                <h3>Add Primary Key</h3>
                <div class="data-input">
                    <div class="form-group">
                        <label>Table Name:</label>
                        <input type="text" id="pkTableName">
                    </div>
                    <div class="form-group">
                        <label>Column Name:</label>
                        <input type="text" id="pkColumnName">
                    </div>
                    <div class="form-group">
                        <label>Constraint Name:</label>
                        <input type="text" id="pkConstraintName" placeholder="pk_constraint">
                    </div>
                </div>
                <button onclick="addPrimaryKey()">Add Primary Key</button>

                <hr style="margin: 30px 0;">

                <h3>Add Foreign Key</h3>
                <div class="data-input">
                    <div class="form-group">
                        <label>Table Name:</label>
                        <input type="text" id="fkTableName">
                    </div>
                    <div class="form-group">
                        <label>Column Name:</label>
                        <input type="text" id="fkColumnName">
                    </div>
                    <div class="form-group">
                        <label>Reference Table:</label>
                        <input type="text" id="fkRefTable">
                    </div>
                    <div class="form-group">
                        <label>Reference Column:</label>
                        <input type="text" id="fkRefColumn">
                    </div>
                    <div class="form-group">
                        <label>Constraint Name:</label>
                        <input type="text" id="fkConstraintName" placeholder="fk_constraint">
                    </div>
                </div>
                <button onclick="addForeignKey()">Add Foreign Key</button>

                <hr style="margin: 30px 0;">

                <h3>Add Unique Constraint</h3>
                <div class="data-input">
                    <div class="form-group">
                        <label>Table Name:</label>
                        <input type="text" id="uqTableName">
                    </div>
                    <div class="form-group">
                        <label>Column Name:</label>
                        <input type="text" id="uqColumnName">
                    </div>
                    <div class="form-group">
                        <label>Constraint Name:</label>
                        <input type="text" id="uqConstraintName" placeholder="uq_constraint">
                    </div>
                </div>
                <button onclick="addUnique()">Add Unique Constraint</button>

                <hr style="margin: 30px 0;">

                <h3>Drop Constraint</h3>
                <div class="data-input">
                    <div class="form-group">
                        <label>Table Name:</label>
                        <input type="text" id="dropConstraintTable">
                    </div>
                    <div class="form-group">
                        <label>Constraint Name:</label>
                        <input type="text" id="dropConstraintName">
                    </div>
                    <div class="form-group">
                        <label>Constraint Type:</label>
                        <select id="dropConstraintType">
                            <option value="FOREIGN KEY">Foreign Key</option>
                            <option value="UNIQUE">Unique</option>
                            <option value="PRIMARY KEY">Primary Key</option>
                        </select>
                    </div>
                </div>
                <button class="btn-danger" onclick="dropConstraint()">Drop Constraint</button>
            </div>
        </div>
    </div>

    <script>
        const API_URL = 'http://localhost:3000/api';
        let columnCount = 0;

        function showTab(tabName) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function showMessage(message, type) {
            const msgDiv = document.getElementById('message');
            msgDiv.textContent = message;
            msgDiv.className = `message ${type} show            `;
            container.appendChild(columnDiv);
        }

        async function createTable() {
            const tableName = document.getElementById('createTableName').value;
            if (!tableName) {
                showMessage('Please enter a table name', 'error');
                return;
            }

            const columns = [];
            for (let i = 1; i <= columnCount; i++) {
                const name = document.getElementById(`colName${i}`)?.value;
                if (name) {
                    columns.push({
                        name,
                        type: document.getElementById(`colType${i}`).value,
                        length: document.getElementById(`colLength${i}`).value || null,
                        notNull: document.getElementById(`colNotNull${i}`).checked,
                        unique: document.getElementById(`colUnique${i}`).checked,
                        primaryKey: document.getElementById(`colPK${i}`).checked,
                        autoIncrement: document.getElementById(`colAI${i}`).checked
                    });
                }
            }

            if (columns.length === 0) {
                showMessage('Please add at least one column', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/table/create`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, columns })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                    document.getElementById('createTableName').value = '';
                    document.getElementById('columnsContainer').innerHTML = '';
                    columnCount = 0;
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function addColumnToTable() {
            const tableName = document.getElementById('alterTableName').value;
            const columnName = document.getElementById('addColumnName').value;
            const columnType = document.getElementById('addColumnType').value;
            const columnLength = document.getElementById('addColumnLength').value;

            if (!tableName || !columnName) {
                showMessage('Please enter table name and column name', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/table/alter/add-column`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        tableName,
                        column: {
                            name: columnName,
                            type: columnType,
                            length: columnLength || null
                        }
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                    document.getElementById('addColumnName').value = '';
                    document.getElementById('addColumnLength').value = '';
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function dropColumn() {
            const tableName = document.getElementById('alterTableName').value;
            const columnName = document.getElementById('dropColumnName').value;

            if (!tableName || !columnName) {
                showMessage('Please enter table name and column name', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/table/alter/drop-column`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, columnName })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                    document.getElementById('dropColumnName').value = '';
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function modifyColumn() {
            const tableName = document.getElementById('alterTableName').value;
            const columnName = document.getElementById('modifyColumnName').value;
            const columnType = document.getElementById('modifyColumnType').value;
            const columnLength = document.getElementById('modifyColumnLength').value;

            if (!tableName || !columnName) {
                showMessage('Please enter table name and column name', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/table/alter/modify-column`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        tableName,
                        column: {
                            name: columnName,
                            type: columnType,
                            length: columnLength || null
                        }
                    })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                    document.getElementById('modifyColumnName').value = '';
                    document.getElementById('modifyColumnLength').value = '';
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function dropTable() {
            const tableName = document.getElementById('dropTableName').value;

            if (!tableName) {
                showMessage('Please enter a table name', 'error');
                return;
            }

            if (!confirm(`Are you sure you want to drop table "${tableName}"?`)) {
                return;
            }

            try {
                const response = await fetch(`${API_URL}/table/drop/${tableName}`, {
                    method: 'DELETE'
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                    document.getElementById('dropTableName').value = '';
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function insertData() {
            const tableName = document.getElementById('insertTableName').value;
            const dataStr = document.getElementById('insertData').value;

            if (!tableName || !dataStr) {
                showMessage('Please enter table name and data', 'error');
                return;
            }

            try {
                const data = JSON.parse(dataStr);
                const response = await fetch(`${API_URL}/data/insert`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, data })
                });
                const result = await response.json();
                
                if (result.success) {
                    showMessage(result.message, 'success');
                    document.getElementById('insertData').value = '';
                } else {
                    showMessage(result.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function updateData() {
            const tableName = document.getElementById('updateTableName').value;
            const dataStr = document.getElementById('updateData').value;
            const whereStr = document.getElementById('updateWhere').value;

            if (!tableName || !dataStr || !whereStr) {
                showMessage('Please fill all fields', 'error');
                return;
            }

            try {
                const data = JSON.parse(dataStr);
                const where = JSON.parse(whereStr);
                const response = await fetch(`${API_URL}/data/update`, {
                    method: 'PUT',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, data, where })
                });
                const result = await response.json();
                
                if (result.success) {
                    showMessage(result.message, 'success');
                } else {
                    showMessage(result.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function deleteData() {
            const tableName = document.getElementById('deleteTableName').value;
            const whereStr = document.getElementById('deleteWhere').value;

            if (!tableName || !whereStr) {
                showMessage('Please fill all fields', 'error');
                return;
            }

            if (!confirm('Are you sure you want to delete this data?')) {
                return;
            }

            try {
                const where = JSON.parse(whereStr);
                const response = await fetch(`${API_URL}/data/delete`, {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, where })
                });
                const result = await response.json();
                
                if (result.success) {
                    showMessage(result.message, 'success');
                } else {
                    showMessage(result.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function viewData() {
            const tableName = document.getElementById('viewTableName').value;

            if (!tableName) {
                showMessage('Please enter a table name', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/data/select/${tableName}`);
                const result = await response.json();
                
                if (result.success) {
                    displayData(result.data);
                    showMessage('Data loaded successfully', 'success');
                } else {
                    showMessage(result.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        function displayData(data) {
            const container = document.getElementById('dataDisplay');
            
            if (!data || data.length === 0) {
                container.innerHTML = '<p>No data found in this table.</p>';
                return;
            }

            const columns = Object.keys(data[0]);
            let html = '<table><thead><tr>';
            
            columns.forEach(col => {
                html += `<th>${col}</th>`;
            });
            html += '</tr></thead><tbody>';

            data.forEach(row => {
                html += '<tr>';
                columns.forEach(col => {
                    html += `<td>${row[col] !== null ? row[col] : 'NULL'}</td>`;
                });
                html += '</tr>';
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        async function addPrimaryKey() {
            const tableName = document.getElementById('pkTableName').value;
            const columnName = document.getElementById('pkColumnName').value;
            const constraintName = document.getElementById('pkConstraintName').value;

            if (!tableName || !columnName || !constraintName) {
                showMessage('Please fill all fields', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/constraint/add/primary-key`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, columnName, constraintName })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function addForeignKey() {
            const tableName = document.getElementById('fkTableName').value;
            const columnName = document.getElementById('fkColumnName').value;
            const refTable = document.getElementById('fkRefTable').value;
            const refColumn = document.getElementById('fkRefColumn').value;
            const constraintName = document.getElementById('fkConstraintName').value;

            if (!tableName || !columnName || !refTable || !refColumn || !constraintName) {
                showMessage('Please fill all fields', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/constraint/add/foreign-key`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, columnName, refTable, refColumn, constraintName })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function addUnique() {
            const tableName = document.getElementById('uqTableName').value;
            const columnName = document.getElementById('uqColumnName').value;
            const constraintName = document.getElementById('uqConstraintName').value;

            if (!tableName || !columnName || !constraintName) {
                showMessage('Please fill all fields', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/constraint/add/unique`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, columnName, constraintName })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        async function dropConstraint() {
            const tableName = document.getElementById('dropConstraintTable').value;
            const constraintName = document.getElementById('dropConstraintName').value;
            const constraintType = document.getElementById('dropConstraintType').value;

            if (!tableName || (!constraintName && constraintType !== 'PRIMARY KEY')) {
                showMessage('Please fill all required fields', 'error');
                return;
            }

            try {
                const response = await fetch(`${API_URL}/constraint/drop`, {
                    method: 'DELETE',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ tableName, constraintName, constraintType })
                });
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message, 'success');
                } else {
                    showMessage(data.error, 'error');
                }
            } catch (err) {
                showMessage('Error: ' + err.message, 'error');
            }
        }

        // Initialize with one column
        addColumn();
    </script>
</body>
</html>

            setTimeout(() => msgDiv.classList.remove('show'), 5000);
        }

        function addColumn() {
            columnCount++;
            const container = document.getElementById('columnsContainer');
            const columnDiv = document.createElement('div');
            columnDiv.className = 'column-item';
            columnDiv.innerHTML = `
                <div class="form-group">
                    <label>Column Name:</label>
                    <input type="text" id="colName${columnCount}" placeholder="column_name">
                </div>
                <div class="form-group">
                    <label>Type:</label>
                    <select id="colType${columnCount}">
                        <option value="INT">INT</option>
                        <option value="VARCHAR">VARCHAR</option>
                        <option value="TEXT">TEXT</option>
                        <option value="DATE">DATE</option>
                        <option value="DATETIME">DATETIME</option>
                        <option value="DECIMAL">DECIMAL</option>
                        <option value="BOOLEAN">BOOLEAN</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Length:</label>
                    <input type="text" id="colLength${columnCount}" placeholder="e.g., 255">
                </div>
                <div class="form-group">
                    <label>Options:</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" id="colNotNull${columnCount}"> NOT NULL</label>
                        <label><input type="checkbox" id="colUnique${columnCount}"> UNIQUE</label>
                        <label><input type="checkbox" id="colPK${columnCount}"> Primary Key</label>
                        <label><input type="checkbox" id="colAI${columnCount}"> Auto Increment</label>
                    </div>
                </div>
            `;